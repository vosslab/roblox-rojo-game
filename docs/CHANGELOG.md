# Changelog

## 2025-12-23
- Update documentation to use repo name `roblox-rojo-game`.
- Add a neighborhood builder with four simple houses.
- Limit door openings to a single neighborhood house.
- Make neighborhood houses two floors and larger.
- Add interior rooms, hallway, and stairs for the house with the door.
- Move the house stairs to a straight run near the entrance.
- Align the house stairs against the wall between the main room and the bathroom.
- Raise the school ceiling height.
- Shift the neighborhood houses farther east to clear the school area.
- Cut a stair opening in the second floor and keep upper walls above the floor slab.
- Refactor houses into objects with door directions, footprints, and overlap checks.
- Add a larger neighborhood grid and allow per-house floor height configuration.
- Shrink the stairwell opening and add auto-opening house doors.
- Add a shared door builder with prompt/auto behaviors and tighten the stairwell opening.
- Run Selene with a repo-local cache folder.
- Clear Selene warnings in the neighborhood builder.
- Add a window builder and place street grid sections between houses.
- Convert school/gas station doors and school windows to shared door/window builders.
- Move remaining school door window/frame helpers into shared builders.
- Tighten room corners, add A-frame roofs, expand house windows, and restructure the neighborhood grid.

## 2025-12-22
- Park the A-Chassis on the baseplate near the spawn area and align its base to the ground.
- Move the sanitized A-Chassis XML out of `src/` and use the binary model for Rojo builds.
- Restrict ContentId conversions to known property names to avoid mis-typing script Source.
- Expand rbxmx sanitizing to detect ContentId by suffix and strip raw control chars.
- Emit ContentId values as <Content><url>...</url></Content> to satisfy Rojo XML parsing.
- Drop empty ContentId tags during rbxmx sanitizing to avoid Rojo parse errors.
- Harden the rbxmx sanitizer to self-close empty Content tags and strip invalid entities.
- Add `tools/rbxmx_sanitize.py` to convert AttributesSerialize and ContentId fields.
- Move the sanitized A-Chassis XML to `assets/` and lift its spawn point above the pad.
- Lift the A-Chassis spawn using its bounding box so it sits above ground.
- Add a guard in `play_game.sh` to stop when `game.rbxl` is not generated.
- Store the A-Chassis model as a binary .rbxm to avoid XML parse errors.
- Place the A-Chassis model near the gas pumps during gas station build.
- Add an A-Chassis rbxmx model export under `src/Workspace/Vehicles`.
- Reduce cooler auto-open distance.
- Make cooler doors swing open on a hinge (auto-close on distance).
- Add auto swing cooler doors that open near players and close when they walk away.
- Mirror the gas station store layout, lower the store height, and tighten cooler spacing.
- Rebalance gas station layout using pad-relative spacing and thin sliding doors to tuck into walls.
- Define shared height layers in LayoutUtil and use them in gas station stacking.
- Add stacking helpers to LayoutUtil and use them to reduce floor overlap issues.
- Offset gas station cooler doors to avoid z-fighting and keep car/store aligned to base height.
- Nudge the gas station again toward center to keep it away from the corner.
- Nudge the gas station location again toward center to keep it away from the corner.
- Move the gas station closer to center while keeping it clear of the school.
- Move the gas station farther southwest to ensure clear distance from the school.
- Push the gas station zone farther from the school for clear separation.
- Move the gas station zone away from the corner while keeping it southwest of the city.
- Move and rotate the gas station layout and offset cooler doors to prevent z-fighting.
- Resize and reposition the gas station car, lift the forecourt to avoid z-fighting, and extend coolers.
- Add a red car to the gas station lot.
- Adjust gas station forecourt/canopy spacing to avoid overlap with the store.
- Expand toolkit documentation and clean up unused builder locals.
- Add `docs/CODE_ARCHITECTURE.md` describing world toolkits and layout modules.
- Route baseplate ground/surface calculations through LayoutUtil in BuilderUtil.
- Add a soda cooler to the gas station store and scale the store to 75% with single-story height.
- Add a modular wall-opening system for doors/windows and return opening frames for placement.
- Add WallBuilder to place walls with multiple openings and integrate it into RoomBuilder.
- Scale gas station store doors and shelves to match the larger building.
- Double the gas station store footprint while keeping the plot size unchanged.
- Enlarge the gas station zone and store footprint, and add door lintels above store sliding doors.
- Add RoomBuilder helpers for simple wall layouts with door openings.
- Move and enlarge the gas station zone, rotate the layout, and reposition pumps/store.
- Fix gas station sliding doors to align with wall openings and clean up old wall parts.
- Double the slide height, ramp length, and ladder rungs.
- Add LayoutUtil helper module for shared ground/surface/anchor placement logic.
- Use CityLayout zone sizes for playground footprint and keep fence sizing local to the builder.
- Anchor the spawn-to-playground path using CityLayout zone edges for cleaner spacing.
- Restyle the Bloxsburg school facade with uniform six-pane windows and double entry doors.
- Update the school sign text to "Bloxburg School".
- Change the front sign to read "Bloxberg".
- Make school door prompts instant and not require line of sight so doors reliably open.
- Move the school outside the sand play area opposite the spawn platform and widen window spacing.
- Shrink the sand area to 60% and position the school 40 studs beyond the spawn with tighter window gaps.
- Split school doors and window builders into dedicated modules for clarity.
- Move and rotate the school to face the spawn, widen the facade, and add rear windows.
- Match the school to the diagram with a taller ceiling, gym layout, and side windows.
- Add hallway side windows to match the diagram's left/right wall layout.
- Rework classroom labels to sit beside doors, remove overlapping room floors, and open the center hallway.
- Add door lintels, thicken door frames, widen the gym, and enlarge room/gym labels.
- Convert front double doors to automatic sliding doors.
- Remove the hallway center lintel and enlarge all school labels.
- Add color accents with facade bands and corner columns.
- Add a dedicated multi-pad spawn area and decouple school placement from spawn distance.
- Enlarge classroom label text while shrinking label plates and sync gym doors to open together.
- Add a centralized city layout module to space playground, school, and spawn consistently.
- Rename the gym label and enlarge classroom label text.
- Update city layout offsets to match `town_diagram.svg`.
- Add placeholder centers for future shopping, gas station, and neighborhood zones.
- Double city layout distances, centralize playground sizing in CityLayout, and lower fence height.
- Set fixed city offsets (spawn at origin, playground 100 north, school 100 south, shopping west, neighborhood east, gas southwest).
- Add basketball hoops to the east and west ends of the gym.
- Add a basic gas station build at the southwest city zone.
- Add a small gas station store with sliding doors and empty shelves.
- Expand the gas station store and add sliding doors on north, south, and east sides.
- Increase playground spacing and rebuild the path from spawn to the playground gate.
- Add zone bounds helpers in CityLayout and shrink the playground footprint.
- Lift spawn pads slightly above the platform and enlarge gas pumps to nearly reach the canopy.
- Add consistent zone sizing and use zone bounds to start the path outside the spawn area.
- Drive spawn platform size from CityLayout zone sizing.
- Use HomeSpawn as a pad to avoid overlap and make the slide slower with seated sliding.

## 2025-12-20
- Refactor server and client code into modular services with clear entry points.
- Add shared constants for remotes, tags, and instance names.
- Preserve playground geometry fixes and quest/economy behavior under the new structure.
- Fix playground geometry: slide ramp slopes down from the platform, swing height is reachable, and path blocks have gaps.
- Rebuild merry-go-round base as an octagon with an invisible quest target part.
- Align sand, swing area, and merry-go-round to the ground surface for clean visuals.
- Add Selene and StyLua configs, a TestEZ vendor drop, and a Lune test runner.
- Add starter QuestService unit tests and a testing guide.
- Add `docs/FILE_STRUCTURE.md` with the repo layout and generated asset notes.
- Add a Playground bootstrap failsafe to rebuild world geometry if the main entrypoint fails.
- Add a merry-go-round spin prompt and server-driven spin control via E push.
- Add a visible spin marker and rotate the merry-go-round around the base center for clearer motion debugging.
- Refactor merry-go-round control into `World/Interactables/MerryGoRound.lua` to keep quest logic focused on progression.
- Remove stale playground caching for quest lookups and add rotation debug prints with SpinMarker position checks.
- Add safe requires in Main, fix ClientMain UI module requires, and make SaveService safe at require-time.
- Add Shared/Util and Shared/Types plus Dev diagnostics modules with Studio-only loading.
- Gate merry-go-round debug prints behind a debug flag, soften the spin marker, and tune spin impulse/friction.
- Add Slide interactable to apply a gentle sliding impulse and WalkSpeed boost on the slide ramp.
- Add `tests/run-lua-tests.sh` as a bash helper for running Lune/TestEZ tests.
- Add `Brewfile` and document `brew bundle` for installing dev tooling.
- Make `tests.luau` path joining self-contained for older Lune versions.
- Add `INSTALL.md` and move `brew bundle` guidance there.
- Move `INSTALL.md` into `docs/INSTALL.md`.
- Expand `README.md` with purpose, quick start, and documentation links.
- Make `tests.luau` robust to Lune versions that do not expose `roblox.game`.
- Add `tests/run-selene.sh` and `tests/run-stylua.sh` for linting/formatting scripts.
- Rename `tests/run-lua-tests.sh` to `tests/run-lune-tests.sh`.
- Exclude TestEZ from Selene, allow undefined test globals, and fix Lune TestEZ require.
- Add `tests/run-lua-tests.sh` as a compatibility shim for the renamed test runner.
- Exclude __tests__ from Selene and use roblox.require in Lune tests.
- Set global require for Lune tests, reduce Selene warnings, and clean unused helpers/UDim2 patterns.
- Make slide impulses follow the ramp slope and require pressing E to activate sliding.
- Enlarge the sandbox, add a fenced perimeter with a spawn opening, auto-slide down the ramp, and add merry-go-round poles.
- Resize the fence to a smaller sandbox area and speed up slide impulses.
- Expand the sand patch, place the fence on its edge with a gate facing the spawn, and increase slide speed.
- Fix fence gate orientation lookup to use HomeSpawn instead of a missing spawn reference.
- Ensure tycoon world instances (HouseModel, CoinSpawners, UpgradePad) are built to avoid Init waits.
- Make swing interactable accept the SwingTopBar name to avoid missing-top-beam warnings.
- Add a simple ladder to the slide for climbing back up.
- Refactor world geometry into per-object builders under `World/Builders/` with `WorldBuilder` as orchestrator.
- Document the world builder/interactable modular pattern in `docs/ROBLOX_LUA_STYLE.md`.
- Remove an unused RunService require from Swing interactable.
- Clean up old slide geometry (unexpected parts/trusses) during slide build.
- Remove any leftover slide truss parts under the playground to eliminate the blocking platform.
- Remove any leftover LadderTopStep parts from the slide ladder build.
- Reorient the swing set to face the spawn so pushes rock it forward/back normally.
- Set the swing seat height to waist level for a Roblox character.
- Move HomeSpawn outside the sand fence near the gate opening.
- Add a simple Bloxsburg School building with rooms 100-103 and an entrance sign.
- Expand the school to 80x30 with hallway/room bays and interactive doors with open prompts.
- Add door windows that move with the door panels.
- Silence repeated DataStore warnings in Studio by skipping DataStore calls unless published.
- Move swing push/impulse logic into `World/Interactables/Swing.lua`.
- Replace the Lune runner with a filesystem-based `tests/run.luau` smoke test entrypoint.
- Fix `tests/run_all_tests.sh` to resolve helper scripts relative to its own location.
- Add labeled output to `tests/run_all_tests.sh` for each test step.
